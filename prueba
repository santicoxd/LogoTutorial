<p class="centrado"><a href=  "http://sabina.pntic.mec.es/lmuf0005/"><img alt="Inicio" src=  "gnome-home.png" height="48" width="48"></a></p>  <p>Versi&#243;n 1.0 - mayo de 2016</p>  <h2>L&#237;neas largas en ficheros de texto simple</h2>  <h3>Fin de l&#237;nea en ficheros de texto simple</h3>  <p>Conforme escribimos con una m&#225;quina de escribir el carro  se desplaza hacia la izquierda hasta que se acaba la l&#237;nea.  Para continuar en la l&#237;nea siguiente hay que hacer dos  cosas: girar el tambor una l&#237;nea y mover el carro hacia la  derecha hasta el principio de la l&#237;nea. Estos dos  movimientos vienen en el c&#243;digo ASCII: LF (l&#237;nea nueva,  c&#243;digo decimal 10) y CR (retorno de carro, n&#250;mero  decimal 13). En un archivo de texto se indica la l&#237;nea nueva  de diferente manera seg&#250;n el sistema operativo: en GNU/Linux  y Mac OS X solo con el car&#225;cter LF, en Windows con los  caracteres CRLF y en Mac antes del OS X solo con CR. Si alguna  vez abres un fichero en Windows y te encuentras con una  desagradable &#250;nica l&#237;nea muy larga pues ya sabes que  has abierto un archivo de texto hecho en GNU/Linux (aunque los  editores modernos suelen hacer la conversi&#243;n  autom&#225;ticamente). Cuando se transfieren ficheros de texto  por FTP el programa a&#241;ade o quita los LF o CR necesarios  para que el fichero se vea correctamente en el sistema operativo  de destino. Incluso le modifica tambi&#233;n la codificaci&#243;n  de caracteres. Generalmente el programa de FTP hace esto  autom&#225;ticamente aunque se puede equivocar al detectar el  tipo de fichero y por eso se puede indicar manualmente el tipo de  transmisi&#243;n. Si transmitimos ficheros de texto como binario  no se realizar&#225;n dichas conversiones y si transmitimos  ficheros binarios como texto estropearemos el fichero puesto que  se le a&#241;adir&#225;n bytes y eso puede hacer que ese fichero  quede corrupto y ya no sirva. Y los <a href="  https://www.rfc-editor.org/old/EOLstory.txt">estándares de internet</a> establecen  que el fin de línea en un fichero de texto transmitido por la red  sea CRLF por lo que un fichero transmitido entre  dos sistemas Windows no precisaría conversión pero entre dos GNU/Linux sí, de LF a   CRLF para transmitirlo y vuelta a LF en el ordenador de destino.</p>  <p>Si el texto comprendido entre dos saltos de l&#237;nea no cabe  en la ventana del editor de texto hay tres opciones:</p>  <ol>    <li>Que el programa ajuste la longitud de la l&#237;nea a la    ventana y reorganice el texto (como puedes comprobar en esta    p&#225;gina, haz la ventana m&#225;s estrecha y lo    comprobar&#225;s).</li>    <li>Que tengas que desplazarte hacia la derecha para leer lo    que no se muestra en la pantalla porque se sale por la derecha    como se ve en la siguiente l&#237;nea:<br>      <pre>Este es un ejemplo de una l&#237;nea bastante larga, tanto que se me acaban las palabras que escribir de ejemplo y tendr&#233; que empezar a escribir palabras sin sentido como cotic&#243;n, barburillo, tendrencismo, etc. pero sobre todo lo que debes observar es lo inc&#243;modo que resulta leer esta l&#237;nea salvo que por caso de extrema necesidad tenga que ser tan larga como al escribir una URL o un c&#243;digo que no se pueda partir en dos l&#237;neas.</pre>    </li>    <li>Incluir saltos de l&#237;nea manuales al final de la    ventana.</li>  </ol>El primer caso se llama soft wrap, saltos de l&#237;neas  suaves, ajuste din&#225;mico o flowed (fluir). El tercero se  llama hard wrap, saltos de l&#237;nea duros, ajuste est&#225;tico  o fixed. Los saltos de l&#237;nea los podemos incluir nosotros  manualmente o que el editor los incluya autom&#225;ticamente.  <h3>P&#225;rrafos en Latex, Groff y procesadores de texto</h3>  <p>En <a href="tex_latex.htmlox">Latex</a>, <a href="groff.html">Groff</a>, Texinfo, etc., los p&#225;rrafos no se indican con un salto  de l&#237;nea sino con dos seguidos, esto es con una l&#237;nea  en blanco. Por tanto da igual si hacemos soft o hard wrap, a  Latex le da igual. Es tan solo la preferencia que tengamos a la  hora de leer el fichero fuente de Latex. Por tanto no hay  relaci&#243;n entre salto de l&#237;nea y p&#225;rrafo.</p>  <p>En el codigo html tampoco hay relaci&#243;n entre salto de  l&#237;nea y p&#225;rrafo, de hecho un p&#225;rrafo es el texto  comprendido entre las etiquetas <code>&lt;p&gt;</code>, el cual  se puede ajustar din&#225;micamente al ancho de la ventana del  navegador. Si queremos saltos duros tenemos que usar la etiqueta  <code>&lt;br&gt;</code>.</p>  <p>En los procesadores de texto, como OpenOffice, el texto fluye  por la ventana hasta que pulsemos la tecla <code>Entrar</code> o  insertemos un salto de l&#237;nea manual. Por tanto aqu&#237;  s&#237; hay relaci&#243;n directa entre salto de l&#237;nea y  p&#225;rrafo.</p>  <p>Si tenemos un fichero de texto simple con ajuste duro y  copiamos el texto a un procesador de texto el texto no se ajusta  a la ventana por culpa de los saltos de l&#237;nea. En ese caso  es mejor usar el comando <code>pandoc</code>.</p>  <p>&#191;Por qu&#233; se usa muchas veces el ajuste duro en lo  ficheros fuente de html, latex, etc.? Antiguamente mucho software  no permit&#237;a el soft wrap y por tanto era imprescindible para  leer bien las l&#237;neas en monitores de 80 caracteres de ancho  pero incluso ahora las l&#237;neas cortas son muy &#250;tiles  puesto que facilitan hacer cambios autom&#225;ticos mediante  <code>sed</code>. Es mucho m&#225;s f&#225;cil trabajar con una  l&#237;nea de 70 caracteres que con una l&#237;nea de 2000. Por  otro lado el ajuste din&#225;mico es muy &#250;til para un  trabajo directo por una persona puesto que aunque cambie el  tama&#241;o de la ventana el texto y los p&#225;rrafos se leen  perfectamente. Por tanto son maneras diferentes de trabajar, pero  la primera es mucho m&#225;s potente. Por ejemplo si gestionas la  web de una empresa formada por 2000 ficheros html y esta empresa  es absorbida por otra y por tanto se debe cambiar el nombre  corporativo en todos los ficheros, con un gui&#243;n de  <code>bash</code> que use <code>sed</code> el cambio es trivial y  mucho m&#225;s f&#225;cil con l&#237;neas cortas que largas.</p>  <p>De igual manera en ficheros de configuraci&#243;n o en  c&#243;digo fuente de programas de ordenador el ajuste  din&#225;mico no es deseable porque no sabes muy bien cu&#225;les  son saltos de l&#237;nea duros o blandos y esto genera fallos  dif&#237;ciles de encontrar.</p>  <p>Conforme editamos un fichero fuente Latex o html los párrafos quedan bastante  difíciles de leer a no ser que hagamos un pesado trabajo a mano cada vez que   los modificamos. Sin embargo es más práctico no preocuparse por eso y al   acabar formatearlo con <code>fmt</code> o <code>tidy</code> en el caso de los   html (que también identa el código facilitando su lectura). El editor   <code>Kile</code>, si está configurado para recortar las líneas, realiza este   ajuste conforme escribimos o editamos.   </p>  <h3>Fin de l&#237;nea y p&#225;rrafos en mensajes de correo  electr&#243;nico</h3>  <p>En el correo electr&#243;nico el salto de l&#237;nea se indica  con CRLF tal como indica la <a href=  "http://www.rfc-editor.org/rfc/rfc822.txt">RFC-822</a> original y  sus sucesoras la <a href=  "http://www.rfc-editor.org/rfc/rfc2822.txt">RFC-2822</a> y  <a href="http://www.rfc-editor.org/rfc/rfc5322.txt">RFC-5322</a>.  Adem&#225;s se indica que las l&#237;neas nunca pueden superar  los 998 caracteres y que es deseable que no superen los 78  caracteres.</p>  <p>Al escribir un mensaje podemos hacer nosotros un ajuste  est&#225;tico manual o dejar que el editor de nuestro programa de  correo haga autom&#225;ticamente un ajuste din&#225;mico o  est&#225;tico. Pero esto es solo lo que vemos al escribir. Cuando  el mensaje se env&#237;e, el programa de correo cortar&#225;  todas las l&#237;neas por los 78 caracteres para cumplir con el  est&#225;ndar. Cuando los monitores solo mostraban 80 caracteres  o incluso despu&#233;s con monitores m&#225;s grandes y de mayor  resoluci&#243;n el recortar las l&#237;neas a 78 caracteres no  supon&#237;an un problema (s&#237; era un problema si copiabas el  mensaje y lo quer&#237;as reutilizar en procesador de texto como  hemos vista anteriormente). Pero ahora que hay pantallas  peque&#241;as que no muestran 78 caracteres (como los  tel&#233;fonos m&#243;viles) estos saltos duros generan escaleras  muy inc&#243;modas de leer y en esos casos es m&#225;s &#250;til  el ajuste din&#225;mico.<br></p>  <pre>  Este es un texto con l&#237;neas de 78 caracteres de ancho que se   ve perfectamente  en una pantalla de ordenador por peque&#241;a que sea pero que  si se  ve en la pantalla de un m&#243;vil se ve m&#225;s o menos as&#237;, como una  escalera bastante inc&#243;moda  de leer e incluso de reutilizar el texto.</pre>  <p>Para sacar partido al ajuste din&#225;mico y seguir cumpliendo  con el est&#225;ndar de los 78 caracteres se usa el est&#225;ndar  <a href="http://www.rfc-editor.org/rfc/rfc3676.txt">RFC-3676</a>  . Si el programa de correo cumple este est&#225;ndar y lo tenemos  configurado como formato flowed, los saltos de l&#237;nea  obligados a los 78 caracteres los codifica como un espacio  seguido por CRLF (SPCRLF) mientras que los saltos duros incluidos  por el usuario son cualquier car&#225;cter seguido de CRLF. De  este modo el cliente de correo del receptor elimina los SPCRLF y  hace un ajuste din&#225;mico para adecuar el mensaje al  tama&#241;o de la ventana. Si tenemos configurado el formato como  fixed los saltos cada 78 caracteres s&#237; son saltos duros y el  cliente receptor no puede reorganizar el texto.</p>  <p>Tambi&#233;n se puede usar el est&#225;ndar <a href=  "https://www.rfc-es.org/rfc/rfc2045-es.txt">RFC-2045</a> . En  este caso los saltos suaves se indican con un signo igual justo  antes del salto de l&#237;nea. La funci&#243;n m&#225;s  importante de este est&#225;ndar es enviar texto no ASCII  (caracteres que no sean del ingl&#233;s) o ficheros binarios usando   solo 7 bits. El texto codificado con este est&#225;ndar se  llama  <a href="http://www.math.northwestern.edu/~mlerma/iworld/correo.html">  codificaci&#243;n Quoted-Printable</a>.</p>  <p>A mi particularmente me gusta leer los mensajes recibidos y  mis redacciones con ancho fijo para no tener que ajustar el  tama&#241;o de la ventana (me gusta usar las ventanas maximizadas  a tope) pero los env&#237;o como flowed para que el receptor haga  lo que desee configurando su cliente (solo Thunderbird me permite  configurar todo esto a mi gusto). Realmente la mayor&#237;a de  las personas posiblemente lean los mensajes con l&#237;nea largas  en los anch&#237;simos monitores actuales y preferir&#237;a  mandarlos como fixed pero como mucha gente lee los correos en el  m&#243;vil por eso prefiero enviarlo como flowed.</p>  <p>Con GPG (pero no con S/MIME) o enviando c&#243;digo fuente en  el cuerpo del mensaje es mejor no usar ni flowed ni quoted  printable para que los programas de correo no modifiquen  absolutamente nada del mensaje (y l&#243;gicamente mantener las  l&#237;neas a mano por debajo de 78 caracteres).</p>  <p>Relacionado con lo anterior si queremos usar tildes en las  cabeceras usamos <code>encoded-words</code> que vienen en el  est&#225;ndar <a href=  "http://www.rfc-editor.org/rfc/rfc2047.txt">RF2047</a>.</p>  <h3>Configuraci&#243;n de clientes de correo</h3>  <p><strong>Thunderbird 3.0.4</strong>. Est&#225;n bastante  escondidas y son bastante liosas pues generalmente est&#225;n  relacionadas. Se configuran en:<br>  <code>Editar &gt; Preferencias &gt; Avanzado &gt; General &gt;  Editor de configuraci&#243;n</code></p>  <p>Para enviar los mensajes con la codificaci&#243;n  quoted-printable:<br>  <code>mail.strictly_mime</code><br>  <code>false</code>: env&#237;a como 8 bits.<br>  <code>true</code>: env&#237;a como quoted-printable. Si  <code>mailnews.send_plaintext_flowed</code> es falso pone saltos  duros antes de 80 caracteres y no aprovecha la posiblidad de usar  saltos suaves con quoted-printable, as&#237; que solo sirve para  codificar las tildes y &#241; como 7 bit. Si  <code>mailnews.send_plaintext_flowed</code> es cierto ahora  s&#237; pone los saltos suaves con quoted-printable y no como  format flowed.</p>  <p>Para enviar como flowed o fixed:<br>  <code>mailnews.send_plaintext_flowed</code><br>  <code>true</code>: flowed (permite reorganizar el texto al  receptor)<br>  <code>false</code>: fixed (no permite reorganizar el texto al  receptor)</p>  <p>Para leer como flowed o fixed:<br>  <code>mailnews.display.disable_format_flowed_support</code><br>  <code>true</code>: fixed (no reorganiza el texto y se lee con  ancho fijo)<br>  <code>false</code>: flowed (reorganiza el texto a la anchura de  la ventana). Pero si mensaje es quoted-printable no tiene  efecto.</p>  <p>Para redactar y que el ancho sea el de la ventana o que el  editor incluya saltos de l&#237;nea a una anchura  determinada.<br>  <code>mail.compose.wrap_to_window_width</code><br>  <code>true</code>: la l&#237;nea se ajusta a la anchura de la  ventana.<br>  <code>false</code>: la l&#237;nea se corta a una anchura  determinada (controlada por <code>mailnews.wraplength</code>)<br>  En ambos casos las l&#237;neas m&#225;s largas de 78 se cortan.  Si <code>mailnews.send_plaintext_flowed</code> es cierto el salto  ser&#225; suave sino ser&#225; duro.</p>  <p>Para ver el c&#243;digo fuente de los mensajes pulsamos  <code>Ctrl+u</code></p>  <p><strong>Gmail</strong>. Permite enviar como texto o como html.  Env&#237;a las tildes como quoted-printable. El editor permite  adaptar las l&#237;neas al tama&#241;o de la ventana pero al  enviar pone saltos duros a los 70 caracteres. Debido a las tildes  codificadas mediante quoted-printable las l&#237;neas son  m&#225;s largas y entonces introduce saltos suaves a los 77  caracteres pero el mensaje le llega al receptor con saltos duros  cada 70 caracteres.<br>  Lee bien los mensajes quoted-printable con saltos suaves.<br>  Lee bien los mensajes format flowed con saltos suaves.</p>  <p><strong>Roundcube Webmail/0.5.3</strong>. Permite enviar como  texto o como html. Env&#237;a las tildes como 8bit. El editor  permite adaptar las l&#237;neas al tama&#241;o de la ventana y  env&#237;a como format flowed los saltos suaves.<br>  Lee bien los mensajes quoted-printable con saltos suaves.<br>  Lee bien los mensajes format flowed con saltos suaves.</p>  <p><strong>Sylpheed 3.0.2</strong>. Para configurar la ventana de  redacci&#243;n y que no recorte las l&#237;neas  autom&#225;ticamente:<br>  <code>Configuraci&#243;n &gt; Preferencias comunes &gt; Componer  &gt; Editor</code></p>  <p>Sylpheed no reconoce el formato flowed por lo que los saltos  suaves de un mensaje entrante se ven como duros.<br>  <br>  Para redactar con codificaci&#243;n de 8bit o  quoted-printable:<br>  <code>Configuraci&#243;n &gt; Preferencias comunes &gt; Enviar  &gt; Codificaci&#243;n</code><br>  <br>  Con quoted-printable se pueden usar saltos suaves, pero si el  mensaje no tiene tildes como no tiene falta de usar quoted no lo  usa y por tanto no genera saltos suaves, solo l&#237;neas largas  (Sylpheed no sigue la recomendaci&#243;n de los 78 caracteres.  Incluso la obligaci&#243;n de que las l&#237;neas no sean mayores  de 998 caracteres lo deja a la elecci&#243;n del usuario, aunque  te informa de que si no recorta puedes perder informaci&#243;n).  Con 8bit tampoco crea saltos suaves e igual que antes env&#237;a  l&#237;neas largas.</p>  <p>Para ver el c&#243;digo fuente, una vez seleccionado un  mensaje pulsamos Ctrl+u. Si pulsamos Ctrl+h muestra las  cabeceras. Si abrimos el mensaje estas teclas ya no funcionan y  ah&#237; que ir al men&#250; <code>Ver</code> de la ventana del  mensaje.</p>  <p><strong>Mutt 1.5.20</strong>.</p>  <p>Su comportamiento depende del editor que usemos. En el fichero  <code>~/.muttrc</code> podemos activar o desactivar estas  opciones:<br></p>  <pre><code>set allow_8bit=yes   # permite enviar como 8 bits o como quoted-printableset text_flowed=yes  # permite ajustar texto como flowed.</code></pre>Dependiendo de las combinaciones obtenemos diferentesresultados.  <p>Si:</p>  <pre><code>set allow_8bit=no #set text_flowed  </code></pre>en mensaje con l&#237;neas m&#225;s largas de 998 caracteresintoduce saltos suaves mediante <code>quote-printable</code>. Si elmensaje tiene l&#237;neas m&#225;s cortas de 998 y tildes creasaltos suaves pero si no tiene tildes no pone saltos suaves yenv&#237;a una l&#237;nea larga.  <p>Si:</p>  <pre><code>set allow_8bit=no set text_flowed  </code></pre>el resultado es id&#233;ntico al caso anterior aunque en lacabecera del mensaje indique <code>format=flowed</code>.  <p>Si:</p>  <pre><code>set allow_8bit=yes#set text_flowed</code></pre>en este caso pone saltos suaves en los mensajes con lasl&#237;neas mayores de 998 caracteres pero en los mensajes conl&#237;neas menores de 998, como no precisa<code>quoted-printable</code> para las tildes porque usa 8 bit, lasdeja sin saltos suaves.  <p>Si:</p>  <pre><code>set allow_8bit=yesset text_flowed</code></pre>igual que antes a pesar de poner en la cabecera<code>format=flowed</code>.  <p>En los mensajes entrantes codificados  <code>quoted-printable</code> muestra los saltos suaves con un  "+" al comienzo de la siguiente pseuodol&#237;nea, lo cual es muy  pr&#225;ctico porque permite diferenciar f&#225;cilmente los  saltos duros de los suaves. Tambi&#233;n lo hace as&#237; si la  l&#237;nea es m&#225;s larga que la ventana. Lo que no implementa  es el <code>format=flowed</code> y simplemente muestra los  mensajes recortados por los saltos duros.</p>  <p>Si pulsas la tecla "h" no muestra el codigo fuente sino todas  las cabeceras. Para mostrar el c&#243;digo pulsa "|" y redirige  el mensaje al comando less y ah&#237; si lo deseas copia el  texto, pero si no cabe en la pantalla es dif&#237;cil seleccionar  todo con el rat&#243;n. Tambi&#233;n se puede ver el c&#243;digo  fuente pulsando la tecla "e" (de exportar) y se abre el mensaje  en el editor por defecto y luego se puede guardar con otro nombre  d&#243;nde deseemos.</p>  <p class="centrado"><a href=  "http://sabina.pntic.mec.es/lmuf0005/"><img width="48" height=  "48" alt="Inicio" src="gnome-home.png"></a></p>  <p><a href="http://www.w3c.es/Divulgacion/html/logo/"><img src=  "HTML5_Logo_64.png" alt="HTML5 Powered" title=  "HTML5 Powered"></a></p><!-- Start of StatCounter Code for Default Guide --><script type="text/javascript">var sc_project=10969611; var sc_invisible=1; var sc_security="12e32628"; var scJsHost = (("https:" == document.location.protocol) ?"https://secure." : "http://www.");document.write("<sc"+"ript type='text/javascript' src='" + scJsHost+"statcounter.com/counter/counter.js'></"+"script>");</script><noscript><div class="statcounter"><a title="shopify traffic stats"href="http://statcounter.com/shopify/" target="_blank"><imgclass="statcounter" src="//c.statcounter.com/10969611/0/12e32628/0/"alt="shopify traffic stats"></a></div></noscript><!-- End of StatCounter Code for Default Guide -->

